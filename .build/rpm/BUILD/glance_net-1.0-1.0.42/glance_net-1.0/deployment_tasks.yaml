# These tasks will be merged into deployment graph. Here you
# can specify new tasks for any roles, even built-in ones.

- id: glance_net_hiera
  type: puppet
  groups: ['primary-controller', 'controller', 'compute']
  requires: ['globals'] 
  required_for: ['netconfig']
  parameters:
    puppet_manifest: hiera_override.pp
    puppet_modules: puppet/modules:/etc/puppet/modules
    timeout: 300

#- id: glance_net_ha_endpoint
#  type: puppet
#  groups: ['primary-controller', 'controller']
#  requires: ['glance-keystone']
#  required_for: ['glance']
#  parameters:
#    puppet_manifest: ha_endpoint.pp
#    puppet_modules: /etc/puppet/modules
#    timeout: 300
